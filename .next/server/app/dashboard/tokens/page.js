(()=>{var e={};e.id=956,e.ids=[956],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4102:(e,s,r)=>{"use strict";r.d(s,{default:()=>m});var t=r(687),a=r(3210),n=r(4934),i=r(5192),o=r(8988),d=r(9390),l=r(1702),c=r(9266),u=r(2688);let p=(0,u.A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var x=r(9959);let h=(0,u.A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);function m(){let[e,s]=(0,a.useState)(null),[r,u]=(0,a.useState)(!1),{toast:m}=(0,l.dj)(),f=async()=>{u(!0);try{let e=await c.uE.generateTokens();if(200===e.statusCode&&e.data){let r=e.data.tokens;s(r),localStorage.setItem("aqua-wiki-tokens",JSON.stringify(r)),c.uE.setTokens(r.adminToken,r.readToken),m({title:"Токены сгенерированы",description:"Новые токены успешно созданы и сохранены"})}else throw Error(e.error||"Ошибка генерации токенов")}catch(e){m({title:"Ошибка",description:e instanceof Error?e.message:"Не удалось сгенерировать токены",variant:"destructive"})}finally{u(!1)}},j=(e,s)=>{navigator.clipboard.writeText(e),m({title:"Скопировано",description:`${s} токен скопирован в буфер обмена`})};return(0,t.jsxs)("div",{className:"p-8 space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Управление токенами"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Генерируйте и управляйте токенами для доступа к API"})]}),(0,t.jsxs)(n.$,{onClick:f,disabled:r,children:[(0,t.jsx)(p,{className:`w-4 h-4 mr-2 ${r?"animate-spin":""}`}),r?"Генерация...":"Сгенерировать токены"]})]}),e?(0,t.jsxs)("div",{className:"grid gap-6",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(x.A,{className:"w-5 h-5"}),"Админский токен"]}),(0,t.jsx)(i.BT,{children:"Используйте для создания, обновления и удаления контента"})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"admin-token",children:"Токен администратора"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(o.p,{id:"admin-token",value:e.adminToken,readOnly:!0,className:"font-mono text-sm"}),(0,t.jsx)(n.$,{variant:"outline",size:"icon",onClick:()=>j(e.adminToken,"Админский"),children:(0,t.jsx)(h,{className:"w-4 h-4"})})]})]})})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(x.A,{className:"w-5 h-5"}),"Токен чтения"]}),(0,t.jsx)(i.BT,{children:"Используйте для чтения контента"})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"read-token",children:"Токен чтения"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(o.p,{id:"read-token",value:e.readToken,readOnly:!0,className:"font-mono text-sm"}),(0,t.jsx)(n.$,{variant:"outline",size:"icon",onClick:()=>j(e.readToken,"Токен чтения"),children:(0,t.jsx)(h,{className:"w-4 h-4"})})]})]})})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{children:"Инструкции"})}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"Следующие шаги:"}),(0,t.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-sm text-muted-foreground",children:[(0,t.jsx)("li",{children:"Скопируйте токены в переменные окружения"}),(0,t.jsx)("li",{children:"ADMIN_TOKEN=ваш_админский_токен"}),(0,t.jsx)("li",{children:"READ_TOKEN=ваш_токен_чтения"}),(0,t.jsx)("li",{children:"Перезапустите сервер"})]})]}),(0,t.jsx)(n.$,{variant:"destructive",onClick:()=>{s(null),localStorage.removeItem("aqua-wiki-tokens"),c.uE.setTokens("",""),m({title:"Токены очищены",description:"Токены удалены из памяти и localStorage"})},children:"Очистить токены"})]})})]})]}):(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Токены не настроены"}),(0,t.jsx)(i.BT,{children:"Для работы с API необходимо сгенерировать токены"})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)(n.$,{onClick:f,disabled:r,children:[(0,t.jsx)(p,{className:`w-4 h-4 mr-2 ${r?"animate-spin":""}`}),r?"Генерация...":"Сгенерировать токены"]})})]})]})}},4712:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l});var t=r(5239),a=r(8088),n=r(8170),i=r.n(n),o=r(893),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(s,d);let l={children:["",{children:["dashboard",{children:["tokens",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5423)),"C:\\Users\\yagup\\Desktop\\aquaDashboard\\app\\dashboard\\tokens\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,3249)),"C:\\Users\\yagup\\Desktop\\aquaDashboard\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,8014)),"C:\\Users\\yagup\\Desktop\\aquaDashboard\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\yagup\\Desktop\\aquaDashboard\\app\\dashboard\\tokens\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/tokens/page",pathname:"/dashboard/tokens",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},5423:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>n});var t=r(7413),a=r(6168);function n(){return(0,t.jsx)(a.default,{})}},6168:(e,s,r)=>{"use strict";r.d(s,{default:()=>t});let t=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\yagup\\\\Desktop\\\\aquaDashboard\\\\components\\\\token-manager.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\yagup\\Desktop\\aquaDashboard\\components\\token-manager.tsx","default")},6393:(e,s,r)=>{Promise.resolve().then(r.bind(r,6168))},6665:(e,s,r)=>{Promise.resolve().then(r.bind(r,4102))},8148:(e,s,r)=>{"use strict";r.d(s,{b:()=>o});var t=r(3210),a=r(4163),n=r(687),i=t.forwardRef((e,s)=>(0,n.jsx)(a.sG.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));i.displayName="Label";var o=i},8988:(e,s,r)=>{"use strict";r.d(s,{p:()=>i});var t=r(687),a=r(3210),n=r(6241);let i=a.forwardRef(({className:e,type:s,...r},a)=>(0,t.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));i.displayName="Input"},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9390:(e,s,r)=>{"use strict";r.d(s,{J:()=>l});var t=r(687),a=r(3210),n=r(8148),i=r(4224),o=r(6241);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)(n.b,{ref:r,className:(0,o.cn)(d(),e),...s}));l.displayName=n.b.displayName}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[447,429,788,800],()=>r(4712));module.exports=t})();