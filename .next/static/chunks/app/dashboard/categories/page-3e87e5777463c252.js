(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[38],{2714:(e,s,i)=>{"use strict";i.d(s,{J:()=>c});var l=i(5155),t=i(2115),r=i(968),a=i(2085),n=i(3999);let d=(0,a.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=t.forwardRef((e,s)=>{let{className:i,...t}=e;return(0,l.jsx)(r.b,{ref:s,className:(0,n.cn)(d(),i),...t})});c.displayName=r.b.displayName},4964:(e,s,i)=>{"use strict";i.d(s,{Xi:()=>c,av:()=>o,j7:()=>d,tU:()=>n});var l=i(5155),t=i(2115),r=i(704),a=i(3999);let n=r.bL,d=t.forwardRef((e,s)=>{let{className:i,...t}=e;return(0,l.jsx)(r.B8,{ref:s,className:(0,a.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",i),...t})});d.displayName=r.B8.displayName;let c=t.forwardRef((e,s)=>{let{className:i,...t}=e;return(0,l.jsx)(r.l9,{ref:s,className:(0,a.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",i),...t})});c.displayName=r.l9.displayName;let o=t.forwardRef((e,s)=>{let{className:i,...t}=e;return(0,l.jsx)(r.UC,{ref:s,className:(0,a.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",i),...t})});o.displayName=r.UC.displayName},7187:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>b});var l=i(5155),t=i(2115),r=i(7168),a=i(8482),n=i(8145),d=i(9852),c=i(9840),o=i(2714),u=i(9474),h=i(3580),x=i(4616),v=i(7924),m=i(4395),j=i(7835),p=i(3717),f=i(2525),g=i(98),N=i(4964);function b(){let[e,s]=(0,t.useState)([]),[i,b]=(0,t.useState)(!0),[w,y]=(0,t.useState)(""),[C,z]=(0,t.useState)(!1),[k,E]=(0,t.useState)(!1),[F,J]=(0,t.useState)(null),[T,A]=(0,t.useState)({az:{title:"",description:""},ru:{title:"",description:""},en:{title:"",description:""}}),{toast:$}=(0,h.dj)();(0,t.useEffect)(()=>{L()},[]);let L=async()=>{try{let e=await g.uE.getCategories("ru");if(200===e.statusCode&&e.data)s(e.data);else throw Error(e.error||"Ошибка загрузки категорий")}catch(e){$({title:"Ошибка",description:"Не удалось загрузить категории",variant:"destructive"})}finally{b(!1)}},S=async()=>{try{let e=await g.uE.createCategory({translations:T});if(200===e.statusCode)$({title:"Успешно",description:"Категория создана"}),z(!1),U(),L();else throw Error(e.error||"Ошибка создания категории")}catch(e){$({title:"Ошибка",description:"Не удалось создать категорию",variant:"destructive"})}},X=async()=>{if(F)try{let e={id:F.id,translations:T},s=await g.uE.updateCategory(e);if(200===s.statusCode)$({title:"Успешно",description:"Категория обновлена"}),E(!1),U(),L();else throw Error(s.error||"Ошибка обновления категории")}catch(e){$({title:"Ошибка",description:"Не удалось обновить категорию",variant:"destructive"})}},R=async e=>{if(confirm("Вы уверены, что хотите удалить эту категорию?"))try{let s=await g.uE.deleteCategory(e);if(200===s.statusCode)$({title:"Успешно",description:"Категория удалена"}),L();else throw Error(s.error||"Ошибка удаления категории")}catch(e){$({title:"Ошибка",description:"Не удалось удалить категорию",variant:"destructive"})}},_=e=>{J(e);let s=e.translations.find(e=>"ru"===e.locale),i=e.translations.find(e=>"az"===e.locale),l=e.translations.find(e=>"en"===e.locale);A({ru:{title:(null==s?void 0:s.title)||"",description:(null==s?void 0:s.description)||""},az:{title:(null==i?void 0:i.title)||"",description:(null==i?void 0:i.description)||""},en:{title:(null==l?void 0:l.title)||"",description:(null==l?void 0:l.description)||""}}),E(!0)},U=()=>{A({az:{title:"",description:""},ru:{title:"",description:""},en:{title:"",description:""}}),J(null)},B=e.filter(e=>{var s;let i=e.translations.find(e=>"ru"===e.locale);return(null==i?void 0:i.title.toLowerCase().includes(w.toLowerCase()))||(null==i?void 0:null===(s=i.description)||void 0===s?void 0:s.toLowerCase().includes(w.toLowerCase()))});return i?(0,l.jsx)("div",{className:"p-8",children:(0,l.jsxs)("div",{className:"animate-pulse space-y-6",children:[(0,l.jsx)("div",{className:"h-8 bg-muted rounded w-1/4"}),(0,l.jsx)("div",{className:"grid gap-4",children:[void 0,void 0,void 0].map((e,s)=>(0,l.jsx)("div",{className:"h-32 bg-muted rounded"},s))})]})}):(0,l.jsxs)("div",{className:"p-8 space-y-8",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Категории"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"Управляйте категориями контента"})]}),(0,l.jsxs)(c.lG,{open:C,onOpenChange:z,children:[(0,l.jsx)(c.zM,{asChild:!0,children:(0,l.jsxs)(r.$,{children:[(0,l.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Создать категорию"]})}),(0,l.jsxs)(c.Cf,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)(c.c7,{children:[(0,l.jsx)(c.L3,{children:"Создать категорию"}),(0,l.jsx)(c.rr,{children:"Создайте новую категорию с переводами на трех языках"})]}),(0,l.jsx)("div",{className:"space-y-4",children:(0,l.jsxs)(N.tU,{defaultValue:"ru",className:"w-full",children:[(0,l.jsxs)(N.j7,{className:"grid w-full grid-cols-3",children:[(0,l.jsx)(N.Xi,{value:"ru",children:"Русский"}),(0,l.jsx)(N.Xi,{value:"az",children:"Азербайджанский"}),(0,l.jsx)(N.Xi,{value:"en",children:"Английский"})]}),(0,l.jsxs)(N.av,{value:"ru",className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(o.J,{htmlFor:"ru-title",children:"Заголовок (Русский)"}),(0,l.jsx)(d.p,{id:"ru-title",value:T.ru.title,onChange:e=>A({...T,ru:{...T.ru,title:e.target.value}}),placeholder:"Введите заголовок на русском"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(o.J,{htmlFor:"ru-description",children:"Описание (Русский)"}),(0,l.jsx)(u.T,{id:"ru-description",value:T.ru.description,onChange:e=>A({...T,ru:{...T.ru,description:e.target.value}}),placeholder:"Введите описание на русском",rows:3})]})]}),(0,l.jsxs)(N.av,{value:"az",className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(o.J,{htmlFor:"az-title",children:"Заголовок (Азербайджанский)"}),(0,l.jsx)(d.p,{id:"az-title",value:T.az.title,onChange:e=>A({...T,az:{...T.az,title:e.target.value}}),placeholder:"Введите заголовок на азербайджанском"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(o.J,{htmlFor:"az-description",children:"Описание (Азербайджанский)"}),(0,l.jsx)(u.T,{id:"az-description",value:T.az.description,onChange:e=>A({...T,az:{...T.az,description:e.target.value}}),placeholder:"Введите описание на азербайджанском",rows:3})]})]}),(0,l.jsxs)(N.av,{value:"en",className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(o.J,{htmlFor:"en-title",children:"Заголовок (Английский)"}),(0,l.jsx)(d.p,{id:"en-title",value:T.en.title,onChange:e=>A({...T,en:{...T.en,title:e.target.value}}),placeholder:"Введите заголовок на английском"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(o.J,{htmlFor:"en-description",children:"Описание (Английский)"}),(0,l.jsx)(u.T,{id:"en-description",value:T.en.description,onChange:e=>A({...T,en:{...T.en,description:e.target.value}}),placeholder:"Введите описание на английском",rows:3})]})]})]})}),(0,l.jsxs)(c.Es,{children:[(0,l.jsx)(r.$,{variant:"outline",onClick:()=>z(!1),children:"Отмена"}),(0,l.jsx)(r.$,{onClick:S,children:"Создать категорию"})]})]})]})]}),(0,l.jsx)("div",{className:"flex items-center space-x-4",children:(0,l.jsxs)("div",{className:"relative flex-1",children:[(0,l.jsx)(v.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),(0,l.jsx)(d.p,{placeholder:"Поиск категорий...",value:w,onChange:e=>y(e.target.value),className:"pl-10"})]})}),(0,l.jsx)("div",{className:"grid gap-4",children:B.map(e=>{let s=e.translations.find(e=>"ru"===e.locale),i=e.translations.find(e=>"az"===e.locale),t=e.translations.find(e=>"en"===e.locale);return(0,l.jsxs)(a.Zp,{children:[(0,l.jsx)(a.aR,{children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)(a.ZB,{className:"flex items-center gap-2",children:[(0,l.jsx)(m.A,{className:"w-5 h-5"}),(null==s?void 0:s.title)||"Без названия"]}),(0,l.jsx)(a.BT,{children:(null==s?void 0:s.description)||"Без описания"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)(n.E,{variant:"outline",className:"flex items-center gap-1",children:[(0,l.jsx)(j.A,{className:"w-3 h-3"}),e.translations.length,"/3"]}),(0,l.jsx)(r.$,{variant:"outline",size:"icon",onClick:()=>_(e),children:(0,l.jsx)(p.A,{className:"w-4 h-4"})}),(0,l.jsx)(r.$,{variant:"outline",size:"icon",onClick:()=>R(e.id),children:(0,l.jsx)(f.A,{className:"w-4 h-4"})})]})]})}),(0,l.jsx)(a.Wu,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold mb-1",children:"Русский"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:(null==s?void 0:s.title)||"Не переведено"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold mb-1",children:"Азербайджанский"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:(null==i?void 0:i.title)||"Не переведено"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold mb-1",children:"Английский"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:(null==t?void 0:t.title)||"Не переведено"})]})]})})]},e.id)})}),0===B.length&&(0,l.jsx)(a.Zp,{children:(0,l.jsx)(a.Wu,{className:"pt-6",children:(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)(m.A,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Категории не найдены"}),(0,l.jsx)("p",{className:"text-muted-foreground mb-4",children:w?"Попробуйте изменить поисковый запрос":"Создайте первую категорию для начала работы"}),(0,l.jsxs)(r.$,{onClick:()=>z(!0),children:[(0,l.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Создать категорию"]})]})})}),(0,l.jsx)(c.lG,{open:k,onOpenChange:E,children:(0,l.jsxs)(c.Cf,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)(c.c7,{children:[(0,l.jsx)(c.L3,{children:"Редактировать категорию"}),(0,l.jsx)(c.rr,{children:"Внесите изменения в категорию"})]}),(0,l.jsx)("div",{className:"space-y-4",children:(0,l.jsxs)(N.tU,{defaultValue:"ru",className:"w-full",children:[(0,l.jsxs)(N.j7,{className:"grid w-full grid-cols-3",children:[(0,l.jsx)(N.Xi,{value:"ru",children:"Русский"}),(0,l.jsx)(N.Xi,{value:"az",children:"Азербайджанский"}),(0,l.jsx)(N.Xi,{value:"en",children:"Английский"})]}),(0,l.jsxs)(N.av,{value:"ru",className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(o.J,{htmlFor:"edit-ru-title",children:"Заголовок (Русский)"}),(0,l.jsx)(d.p,{id:"edit-ru-title",value:T.ru.title,onChange:e=>A({...T,ru:{...T.ru,title:e.target.value}}),placeholder:"Введите заголовок на русском"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(o.J,{htmlFor:"edit-ru-description",children:"Описание (Русский)"}),(0,l.jsx)(u.T,{id:"edit-ru-description",value:T.ru.description,onChange:e=>A({...T,ru:{...T.ru,description:e.target.value}}),placeholder:"Введите описание на русском",rows:3})]})]}),(0,l.jsxs)(N.av,{value:"az",className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(o.J,{htmlFor:"edit-az-title",children:"Заголовок (Азербайджанский)"}),(0,l.jsx)(d.p,{id:"edit-az-title",value:T.az.title,onChange:e=>A({...T,az:{...T.az,title:e.target.value}}),placeholder:"Введите заголовок на азербайджанском"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(o.J,{htmlFor:"edit-az-description",children:"Описание (Азербайджанский)"}),(0,l.jsx)(u.T,{id:"edit-az-description",value:T.az.description,onChange:e=>A({...T,az:{...T.az,description:e.target.value}}),placeholder:"Введите описание на азербайджанском",rows:3})]})]}),(0,l.jsxs)(N.av,{value:"en",className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(o.J,{htmlFor:"edit-en-title",children:"Заголовок (Английский)"}),(0,l.jsx)(d.p,{id:"edit-en-title",value:T.en.title,onChange:e=>A({...T,en:{...T.en,title:e.target.value}}),placeholder:"Введите заголовок на английском"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(o.J,{htmlFor:"edit-en-description",children:"Описание (Английский)"}),(0,l.jsx)(u.T,{id:"edit-en-description",value:T.en.description,onChange:e=>A({...T,en:{...T.en,description:e.target.value}}),placeholder:"Введите описание на английском",rows:3})]})]})]})}),(0,l.jsxs)(c.Es,{children:[(0,l.jsx)(r.$,{variant:"outline",onClick:()=>E(!1),children:"Отмена"}),(0,l.jsx)(r.$,{onClick:X,children:"Сохранить изменения"})]})]})})]})}},9474:(e,s,i)=>{"use strict";i.d(s,{T:()=>a});var l=i(5155),t=i(2115),r=i(3999);let a=t.forwardRef((e,s)=>{let{className:i,...t}=e;return(0,l.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",i),ref:s,...t})});a.displayName="Textarea"},9563:(e,s,i)=>{Promise.resolve().then(i.bind(i,7187))}},e=>{var s=s=>e(e.s=s);e.O(0,[455,287,771,528,57,441,684,358],()=>s(9563)),_N_E=e.O()}]);