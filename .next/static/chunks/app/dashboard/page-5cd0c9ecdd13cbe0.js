(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{98:(e,t,s)=>{"use strict";s.d(t,{VC:()=>n,kM:()=>r,uE:()=>c});var a=s(9509),r=function(e){return e.FRESHWATER="FRESHWATER",e.SALTWATER="SALTWATER",e.PALUDARIUM="PALUDARIUM",e}({}),n=function(e){return e.FISHS="FISHS",e.REPTILES="REPTILES",e.AMPHIBIANS="AMPHIBIANS",e.TURTLES="TURTLES",e.FROGS="FROGS",e.CORALS="CORALS",e.PLANTS="PLANTS",e.SHRIMPS="SHRIMPS",e.CRAYFISH="CRAYFISH",e.CRABS="CRABS",e.SNAILS="SNAILS",e.STARFISHS="STARFISHS",e}({});class i{getAdminToken(){return a.env.NEXT_SERVER_ACTIONS_ENCRYPTION_KEY||this.adminToken}getReadToken(){return a.env.NEXT_SERVER_ACTIONS_ENCRYPTION_KEY||this.readToken}async request(e,t){try{let s=(null==t?void 0:t.useAdminToken)?this.getAdminToken():this.getReadToken(),a={"Content-Type":"application/json",...(null==t?void 0:t.headers)||{}};s&&(a.Authorization="Bearer ".concat(s));let r=await fetch("".concat(this.baseUrl).concat(e),{headers:a,...t});if(!r.ok)throw Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(e){return console.error("API request failed:",e),{statusCode:500,statusMessage:"Error",error:e instanceof Error?e.message:"Unknown error"}}}async generateTokens(){return this.request("/tokens/generate",{method:"POST"})}async getCategories(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ru";return this.request("/categories?locale=".concat(e))}async createCategory(e){return this.request("/categories/category",{method:"POST",body:JSON.stringify(e),useAdminToken:!0})}async updateCategory(e){return this.request("/categories/category",{method:"PATCH",body:JSON.stringify(e),useAdminToken:!0})}async deleteCategory(e){return this.request("/categories/category/".concat(e),{method:"DELETE",useAdminToken:!0})}async getSubCategories(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ru";return this.request("/subcategories?locale=".concat(e))}async createSubCategory(e){return this.request("/subcategories/subcategory",{method:"POST",body:JSON.stringify(e),useAdminToken:!0})}async updateSubCategory(e){return this.request("/subcategories/subcategory",{method:"PATCH",body:JSON.stringify(e),useAdminToken:!0})}async deleteSubCategory(e){return this.request("/subcategories/subcategory/".concat(e),{method:"DELETE",useAdminToken:!0})}async getArticles(e){let t=new URLSearchParams;(null==e?void 0:e.locale)&&t.append("locale",e.locale),(null==e?void 0:e.subCategoryId)&&t.append("subCategoryId",e.subCategoryId);let s=t.toString();return this.request("/articles".concat(s?"?".concat(s):""))}async getArticle(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ru";return this.request("/articles/article/".concat(e,"?locale=").concat(t))}async createArticle(e){return this.request("/articles/article",{method:"POST",body:JSON.stringify(e),useAdminToken:!0})}async updateArticle(e){return this.request("/articles/article",{method:"PATCH",body:JSON.stringify(e),useAdminToken:!0})}async deleteArticle(e){return this.request("/articles/article/".concat(e),{method:"DELETE",useAdminToken:!0})}async getInhabitants(e){let t=new URLSearchParams;(null==e?void 0:e.locale)&&t.append("locale",e.locale),(null==e?void 0:e.type)&&t.append("type",e.type);let s=t.toString();return this.request("/inhabitants".concat(s?"?".concat(s):""))}async getInhabitant(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ru";return this.request("/inhabitants/inhabitant/".concat(e,"?locale=").concat(t))}async createInhabitant(e){return this.request("/inhabitants/inhabitant",{method:"POST",body:JSON.stringify(e),useAdminToken:!0})}async updateInhabitant(e){return this.request("/inhabitants/inhabitant",{method:"PATCH",body:JSON.stringify(e),useAdminToken:!0})}async deleteInhabitant(e){return this.request("/inhabitants/inhabitant/".concat(e),{method:"DELETE",useAdminToken:!0})}async getUsers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,s=arguments.length>2?arguments[2]:void 0,a=new URLSearchParams;a.append("page",e.toString()),a.append("limit",t.toString()),s&&a.append("search",s);let r=await fetch("/api/users?".concat(a.toString()));if(!r.ok)throw Error("HTTP error! status: ".concat(r.status));let n=await r.json();return{statusCode:r.status,statusMessage:r.statusText,data:n,error:void 0}}async deleteUser(e){let t=await fetch("/api/users",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e})});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let s=await t.json();return{statusCode:t.status,statusMessage:t.statusText,data:s,error:void 0}}constructor(){this.adminToken=null,this.readToken=null,this.baseUrl="https://aqua-wiki-backend.vercel.app",this.adminToken=a.env.NEXT_SERVER_ACTIONS_ENCRYPTION_KEY||null,this.readToken=a.env.NEXT_SERVER_ACTIONS_ENCRYPTION_KEY||null}}let c=new i},1797:(e,t,s)=>{Promise.resolve().then(s.bind(s,5621))},2018:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Fish",[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]])},2657:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3999:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var a=s(2596),r=s(9688);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},4616:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5621:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(5155),r=s(2115),n=s(8482),i=s(7168),c=s(4616),l=s(7434),d=s(2018),o=s(7580),u=s(2657);let h=(0,s(9946).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var x=s(98),m=s(6874),g=s.n(m);function p(){let[e,t]=(0,r.useState)(0),[s,m]=(0,r.useState)(0),[p,f]=(0,r.useState)(0),[y,j]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{(async()=>{try{let e=await x.uE.getUsers(1,1);200===e.statusCode&&e.data&&t(e.data.totalCount);let s=await x.uE.getArticles();200===s.statusCode&&s.data&&m(s.data.length);let a=await x.uE.getInhabitants();200===a.statusCode&&a.data&&f(a.data.length)}catch(e){console.error("Ошибка загрузки данных:",e)}finally{j(!1)}})()},[]),y)?(0,a.jsx)("div",{className:"p-8",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-6",children:[(0,a.jsx)("div",{className:"h-8 bg-muted rounded w-1/4"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)("div",{className:"h-32 bg-muted rounded"},t))})]})}):(0,a.jsxs)("div",{className:"p-8 space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Панель управления"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Добро пожаловать в систему управления AquaDaddy"})]}),(0,a.jsx)("div",{className:"flex gap-3",children:(0,a.jsx)(i.$,{asChild:!0,children:(0,a.jsxs)(g(),{href:"/content",children:[(0,a.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"Создать статью"]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-medium",children:"Статьи"}),(0,a.jsx)(l.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:s}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"материалов"})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-medium",children:"Обитатели"}),(0,a.jsx)(d.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:p}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"видов в базе данных"})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-medium",children:"Пользователи"}),(0,a.jsx)(o.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:e}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"зарегистрировано"})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-medium",children:"Просмотры"}),(0,a.jsx)(u.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:"0"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,a.jsx)(h,{className:"w-3 h-3 inline mr-1"}),"за все время"]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Быстрые действия"}),(0,a.jsx)(n.BT,{children:"Управление контентом"})]}),(0,a.jsx)(n.Wu,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(i.$,{asChild:!0,variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",children:(0,a.jsxs)(g(),{href:"/categories",children:[(0,a.jsx)(l.A,{className:"w-6 h-6"}),(0,a.jsx)("span",{children:"Категории"})]})}),(0,a.jsx)(i.$,{asChild:!0,variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",children:(0,a.jsxs)(g(),{href:"/subcategories",children:[(0,a.jsx)(l.A,{className:"w-6 h-6"}),(0,a.jsx)("span",{children:"Подкатегории"})]})}),(0,a.jsx)(i.$,{asChild:!0,variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",children:(0,a.jsxs)(g(),{href:"/content",children:[(0,a.jsx)(l.A,{className:"w-6 h-6"}),(0,a.jsx)("span",{children:"Статьи"})]})}),(0,a.jsx)(i.$,{asChild:!0,variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",children:(0,a.jsxs)(g(),{href:"/inhabitants",children:[(0,a.jsx)(d.A,{className:"w-6 h-6"}),(0,a.jsx)("span",{children:"Обитатели"})]})})]})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Управление системой"}),(0,a.jsx)(n.BT,{children:"Административные функции"})]}),(0,a.jsx)(n.Wu,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(i.$,{asChild:!0,variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",children:(0,a.jsxs)(g(),{href:"/users",children:[(0,a.jsx)(o.A,{className:"w-6 h-6"}),(0,a.jsx)("span",{children:"Пользователи"})]})}),(0,a.jsx)(i.$,{asChild:!0,variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",children:(0,a.jsxs)(g(),{href:"/tokens",children:[(0,a.jsx)(l.A,{className:"w-6 h-6"}),(0,a.jsx)("span",{children:"Токены"})]})})]})})]})]})]})}},7168:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var a=s(5155),r=s(2115),n=s(9708),i=s(2085),c=s(3999);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:s,variant:r,size:i,asChild:d=!1,...o}=e,u=d?n.DX:"button";return(0,a.jsx)(u,{className:(0,c.cn)(l({variant:r,size:i,className:s})),ref:t,...o})});d.displayName="Button"},7580:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},8482:(e,t,s)=>{"use strict";s.d(t,{BT:()=>d,Wu:()=>o,ZB:()=>l,Zp:()=>i,aR:()=>c});var a=s(5155),r=s(2115),n=s(3999);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});i.displayName="Card";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...r})});c.displayName="CardHeader";let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});l.displayName="CardTitle";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})});d.displayName="CardDescription";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...r})});o.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"}},e=>{var t=t=>e(e.s=t);e.O(0,[455,279,441,684,358],()=>t(1797)),_N_E=e.O()}]);